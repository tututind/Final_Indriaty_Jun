"0","line_info <- read.csv(""./Data/line_info.csv"") "
"0","trains_test <- read.csv(""./Data/trains_test.csv"") "
"0","trains_train <- read.csv(""./Data/trains_train.csv"") "
"0","stations <- read.csv(""./Data/stations.csv"")"
"0",""
"0","# Change station code from numeric to character and rbind train and test sets"
"0","trains_test$from <- as.character(trains_test$from)"
"0","trains_test$from <- paste0(""00"", trains_test$from) "
"0","trains_test$to <- as.character(trains_test$to)"
"0","trains_test$to <- paste0(""00"", trains_test$to) "
"0","trains_test$occupancy <- NA"
"0",""
"0","# Clean up the URI column to extract the station IDs"
"0","stations <- stations %>%"
"0","  mutate(station_id = gsub(""http://irail.be/stations/NMBS/"", """", URI))"
"0",""
"0","trains <- rbind(trains_train, trains_test)"
"0","trains$occupancy <- factor(trains$occupancy, levels = c(""low"", ""medium"", ""high""))"
"0","colorPallete <- c(""low"" = ""green"", ""medium"" = ""orange"", ""high"" = ""red"")"
"0","# Convert date and time to POSIX datetime"
"0","trains$datetime <- as.POSIXct(paste(trains$date, trains$time), format = ""%Y-%m-%d %I:%M:%S %p"")"
"0","trains$week <- week(trains$datetime)"
"0","trains$dotw <- wday(trains$datetime, label = TRUE)"
"0",""
"0","# Add from and to station names"
"0","trains <- trains %>%"
"0","  left_join(stations, by = c(""from"" = ""station_id"")) %>%"
"0","  select(date, time, from, to, vehicle, occupancy, datetime, dotw, from_station = name)"
"0",""
"0","trains <- trains %>%"
"0","  left_join(stations, by = c(""to"" = ""station_id"")) %>%"
"0","  select(date, time, from, to, vehicle, occupancy, datetime, dotw, from_station, to_station = name)"
"0",""
